"use strict";!function(t){var e=t("[data-vimeo]"),i=function(e){var i=this;i.defaultOptions={width:!1,maxwidth:!1,height:!1,maxheight:!1,byline:!0,title:!0,portrait:!1,color:!1,callback:!1,autoplay:!1,loop:!1,autopause:!0,xhtml:!1},i.loadCount=0,i.playing=!1,i.el=e,i.$el=t(e).addClass("vimeojs--wrapper"),i.id=i._generateID(),i.iframe=document.createElement("iframe"),i.$img=i.$el.find("img"),i.$iframe=t(i.iframe),i.options=i.getOptions(),i.$iframe.attr("src",i.getVimeoUrl()),i.$el.css({display:"block",position:"relative"}),i.$iframe.css({border:"0",position:"absolute",top:0,left:0,height:"100%",width:"100%",zIndex:-1}),i.el.appendChild(i.iframe),i.getDimensions(),i.$el.on("click",function(t){t.preventDefault(),i.start()}),t(window).on("message",function(t){i.onMessageReceived(t)}),i.options.autoplay&&i.start()};i.prototype.start=function(){var t=this;t.$el.addClass("vimeojs__loading"),t._post("play"),t.$img.fadeOut(function(){t.$iframe.css("zIndex",1)}),t.playing=!0},i.prototype.getOptions=function(){var t,e=this,i={};t=e.el.dataset;for(var o in t){o=o.replace("vimeo","").toLowerCase();var a=t[o];o&&(a=void 0===a,i[o]=a)}return jQuery.extend(e.defaultOptions,i)},i.prototype._generateID=function(){for(var t="",e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=0;6>i;i++)t+=e.charAt(Math.floor(Math.random()*e.length));return t},i.prototype.getDimensions=function(){var t=this;t.$img.width()<10&&t.loadCount<10?setTimeout(function(){t.getDimensions(),t.loadCount++},750):t.$el.css({width:t.$img.width(),height:t.$img.height()})},i.prototype.getVimeoUrl=function(){var t=this,e=["player_id="+t.id,"api=1"];for(var i in t.options)t.options.hasOwnProperty(i)&&e.push(i+"="+(t.options[i]===!0?1:0));return"http://player.vimeo.com/video/"+t.$el.attr("href").split("/").pop()+"?"+e.join("&")},i.prototype.ready=function(){var t=this;t._post("addEventListener","playProgress")},i.prototype.onMessageReceived=function(t){var e=this,i=JSON.parse(t.data);switch(i.event){case"ready":e.ready()}},i.prototype._post=function(t,e){var i,o=this;i={method:t},e&&(i.value=e),o.iframe.contentWindow.postMessage(JSON.stringify(i),o.iframe.src.split("?")[0])},e.each(function(){new i(this)})}(jQuery);